<!DOCTYPE html>
<html>

<head>
<script
	src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.min.js"></script>
<!-- Bootstrap Core CSS -->
<link href="./bootstrap/css/bootstrap.min.css" rel="stylesheet">
<!-- DataTables CSS -->
<link
	href="./bootstrap/bower_components/datatables-plugins/integration/bootstrap/3/dataTables.bootstrap.css"
	rel="stylesheet">
<!-- DataTables Responsive CSS -->
<link
	href="./bootstrap/bower_components/datatables-responsive/css/dataTables.responsive.css"
	rel="stylesheet">
<!-- MetisMenu CSS -->
<link
	href="./bootstrap/bower_components/metisMenu/dist/metisMenu.min.css"
	rel="stylesheet">

<!-- Custom Fonts -->
<link href="./bootstrap/bower_components/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
</head>

<body>


	<div ng-app="" ng-controller="customersController">
		
		<div class="row">
			<div class="col-md-2">
				<div class="navbar-default sidebar" role="navigation">
				<div class="sidebar-nav navbar-collapse">
				<ul class="nav" id="side-menu">
					<li><h2>Hello World!</h2></li>
					<li><a href="MemberCenter.jsp">
						<h3><span class="glyphicon glyphicon-user"></span>Member Center</h3></a></li>
					<li><a href="submit_goods.jsp">
						<h3><span class="glyphicon glyphicon-cloud-upload"></span>Upload My Merchandise</h3></a></li>
					<li><a href="goods_management.jsp">
						<h3><span class="glyphicon glyphicon-list-alt"></span>Merchandise Management</h3></a></li>
						
						
					<li><a href="index.html">
						<h3>All Categories</h3></a></li>
					<li>
						<a href="#"><i class="fa fa-wrench fa-fw"></i> 數位<span class="fa arrow"></span></a>
						<ul class="nav nav-second-level">
                            <li>
                                <a href="index.html?RGNO=11">手機/平板/配件</a>
                            </li>
                            <li>
                                <a href="index.html?RGNO=12">藍芽/耳機</a>
                            </li>
                            <li>
                                <a href="index.html?RGNO=13">電玩</a>
                            </li>
                        </ul>
                        <!-- /.nav-second-level -->
					</li>
					<li>
						<a href="#"><i class="fa fa-wrench fa-fw"></i> 家電<span class="fa arrow"></span></a>
						<ul class="nav nav-second-level">
                            <li>
                                <a href="index.html?RGNO=21">美容/按摩</a>
                            </li>
                            <li>
                                <a href="index.html?RGNO=22">電視/音響</a>
                            </li>
                            <li>
                                <a href="index.html?RGNO=23">清淨除濕</a>
                            </li>
                            <li>
                                <a href="index.html?RGNO=24">淨/飲水/咖啡機</a>
                            </li>
                            <li>
                                <a href="index.html?RGNO=25">暖氣/電風扇</a>
                            </li>
                            <li>
                                <a href="index.html?RGNO=26">廚房家電</a>
                            </li>
                        </ul>
                        <!-- /.nav-second-level -->
					</li>
					<li>
						<a href="#"><i class="fa fa-wrench fa-fw"></i> 生活<span class="fa arrow"></span></a>
						<ul class="nav nav-second-level">
                            <li>
                                <a href="index.html?RGNO=31">玩具</a>
                            </li>
                            <li>
                                <a href="index.html?RGNO=32">寢具/桌椅</a>
                            </li>
                            <li>
                                <a href="index.html?RGNO=33">餐廚</a>
                            </li>
                            <li>
                                <a href="index.html?RGNO=34">設計雜貨</a>
                            </li>
                            <li>
                                <a href="index.html?RGNO=35">文具</a>
                            </li>
                            <li>
                                <a href="index.html?RGNO=36">電工/五金/園藝</a>
                            </li>
                            <li>
                                <a href="index.html?RGNO=37">汽機車百貨</a>
                            </li>
                            <li>
                                <a href="index.html?RGNO=38">運動/戶外</a>
                            </li>
                            <li>
                                <a href="index.html?RGNO=39">情趣</a>
                            </li>
                        </ul>
                        <!-- /.nav-second-level -->
					</li>
					<li>
						<a href="#"><i class="fa fa-wrench fa-fw"></i> 服飾<span class="fa arrow"></span></a>
						<ul class="nav nav-second-level">
                            <li>
                                <a href="index.html?RGNO=41">男裝</a>
                            </li>
                            <li>
                                <a href="index.html?RGNO=42">女裝</a>
                            </li>
                            <li>
                                <a href="index.html?RGNO=43">童裝</a>
                            </li>
                            <li>
                                <a href="index.html?RGNO=44">鞋子</a>
                            </li>
                            <li>
                                <a href="index.html?RGNO=45">內睡衣</a>
                            </li>
                            <li>
                                <a href="index.html?RGNO=46">美妝/保養品</a>
                            </li>
                            <li>
                                <a href="index.html?RGNO=47">手錶/精品</a>
                            </li>
                            <li>
                                <a href="index.html?RGNO=48">珠寶</a>
                            </li>
                        </ul>
                        <!-- /.nav-second-level -->
					</li>
					<li>
						<a href="#"><i class="fa fa-wrench fa-fw"></i> 文學<span class="fa arrow"></span></a>
						<ul class="nav nav-second-level">
                            <li>
                                <a href="index.html?RGNO=51">電腦資訊</a>
                            </li>
                            <li>
                                <a href="index.html?RGNO=52">語言學習</a>
                            </li>
                            <li>
                                <a href="index.html?RGNO=53">教科考用</a>
                            </li>
                            <li>
                                <a href="index.html?RGNO=54">宗教信仰</a>
                            </li>
                            <li>
                                <a href="index.html?RGNO=55">健康養生</a>
                            </li>
                            <li>
                                <a href="index.html?RGNO=56">藝術/設計</a>
                            </li>
                            <li>
                                <a href="index.html?RGNO=57">旅遊</a>
                            </li>
                            <li>
                                <a href="index.html?RGNO=58">親子教育</a>
                            </li>
                            <li>
                                <a href="index.html?RGNO=59">外文書</a>
                            </li>
                            <li>
                                <a href="index.html?RGNO=510">雜類</a>
                            </li>
                        </ul>
                        <!-- /.nav-second-level -->
					</li>
					<li>
						<a href="#"><i class="fa fa-wrench fa-fw"></i> 其他<span class="fa arrow"></span></a>
						<ul class="nav nav-second-level">
                            <li>
                                <a href="index.html?RGNO=61">其他</a>
                            </li>
                            
                        </ul>
                        <!-- /.nav-second-level -->
					</li>
					<li><a href="logout.jsp">
						<h3><span class="glyphicon glyphicon-log-out"></span>Logout</h3></a></li>
				</ul>
				</div>
				</div>
			</div>
			
			<div class="col-md-10">
			<h1 class="page-header">Merchandise Information</h1>
			<table class="table table-striped table-bordered table-hover"
				id="dataTables-example">
				<thead>
					<tr>
						<th>Picture</th>
						<th>Name</th>
						<th>Detail</th>
						<th>Account</th>
						<th>Date</th>
						<th>Days</th>
						<th>Money</th>
						<th>Category</th>
						<th>Category</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="x in names">
						<td><img src="./pic/{{ x.pic }}" width="150" height="150"
							alt="Picture Information" /></td>
						<td>{{ x.name }}</td>
						<td><a href="MerchandiseInfo.html?id={{ x.id }}"
							class="btn btn-lg btn-info" ng-click="lookMoreInfo(x.usr_id)"> <span
								class="glyphicon glyphicon-search"></span> Look for more
								detail....
						</a></td>
						<td>{{ x.account }}</td>
						<td>{{ x.date }}</td>
						<td>{{ x.days }}</td>
						<td>{{ x.money }}</td>
						<td>{{ x.bclass }}</td>
						<td>{{ x.sclass }}</td>
					</tr>

				</tbody>
			</table>
			</div>
		</div>
	</div>

	<!-- jQuery -->
	<script src="./bootstrap/bower_components/jquery/dist/jquery.min.js"></script>

	<!-- Bootstrap Core JavaScript -->
	<script src="./bootstrap/js/bootstrap.min.js"></script>

	<!-- Metis Menu Plugin JavaScript -->
	<script
		src="./bootstrap/bower_components/metisMenu/dist/metisMenu.min.js"></script>

	<!-- DataTables JavaScript -->
	<script
		src="./bootstrap/bower_components/datatables/media/js/jquery.dataTables.min.js"></script>
	<script
		src="./bootstrap/bower_components/datatables-plugins/integration/bootstrap/3/dataTables.bootstrap.min.js"></script>

	<script>
		function customersController($scope, $http) {
			$.extend({
				getUrlVars : function() {
					var vars = [], hash;
					var hashes = window.location.href.slice(
							window.location.href.indexOf('?') + 1).split('&');
					for (var i = 0; i < hashes.length; i++) {
						hash = hashes[i].split('=');
						vars.push(hash[0]);
						vars[hash[0]] = hash[1];
					}
					return vars;
				},
				getUrlVar : function(name) {
					return $.getUrlVars()[name];
				}
			});
			
			//針對類別取商品
			var RGNO = $.getUrlVar('RGNO');
			
			if(typeof RGNO != 'undefined'){
				$http.get("http://140.118.109.39:8080/jsp/ItemSearchServlet?RGNO=" + RGNO)
				.success(function(response) {
					$scope.names = response;
				});
			}else{
				$http.get("http://140.118.109.39:8080/jsp/ItemSearchServlet")
				.success(function(response) {
					$scope.names = response;
					//$('#dataTables-example').DataTable({
					//    responsive: true
					//});
				});
			}
			
			
			$scope.lookMoreInfo = function(usr_id) {
				//scope.$apply(function() { $location.path("/route"); });
				localStorage.setItem("usr_id", usr_id);
				
			}
			//	angular.module('datatablesSampleApp', ['ngResource', 'datatables']).controller('AngularWayCtrl', AngularWayCtrl);
			//	function AngularWayCtrl($resource) {
			//	    var vm = this;
			//	    $http.get("http://140.118.109.39:8080/jsp/ItemSearchServlet")
			//	  	.success(function(response) {
			//		  	$vm.names = response;

			//		  });
			//	}
			
		}
		
		$(function() {

		    $('#side-menu').metisMenu();

		});
		
		$(function() {
		    $(window).bind("load resize", function() {
		        topOffset = 50;
		        width = (this.window.innerWidth > 0) ? this.window.innerWidth : this.screen.width;
		        if (width < 768) {
		            $('div.navbar-collapse').addClass('collapse');
		            topOffset = 100; // 2-row-menu
		        } else {
		            $('div.navbar-collapse').removeClass('collapse');
		        }

		        height = ((this.window.innerHeight > 0) ? this.window.innerHeight : this.screen.height) - 1;
		        height = height - topOffset;
		        if (height < 1) height = 1;
		        if (height > topOffset) {
		            $("#page-wrapper").css("min-height", (height) + "px");
		        }
		    });

		    var url = window.location;
		    var element = $('ul.nav a').filter(function() {
		        return this.href == url;
		    }).addClass('active').parent().parent().addClass('in').parent();
		    if (element.is('li')) {
		        element.addClass('active');
		    }
		});
	</script>

</body>
</html>
